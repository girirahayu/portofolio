<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Input Harga</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">
<div class="bg-white p-6 rounded-lg shadow-md w-full max-w-md">
  <h2 class="text-xl font-semibold mb-4 text-center">Form Input Harga</h2>
  <form action="#" method="POST" class="space-y-4" oninput="hitungTotal()">
    <div>
      <label class="block text-sm font-medium" for="harga_print">Harga Print / Meter</label>
      <input type="number" id="harga_print" name="harga_print" class="mt-1 p-2 w-full border rounded-lg" value="0">
    </div>
    <div>
      <label class="block text-sm font-medium" for="harga_kaos">Harga Kaos</label>
      <input type="number" id="harga_kaos" name="harga_kaos" class="mt-1 p-2 w-full border rounded-lg" value="0">
    </div>
    <div>
      <label class="block text-sm font-medium" for="jasa_sablon">Jasa Sablon</label>
      <input type="number" id="jasa_sablon" name="jasa_sablon" class="mt-1 p-2 w-full border rounded-lg" value="2000">
    </div>
    <div>
      <label class="block text-sm font-medium" for="jasa_design">Jasa Design</label>
      <input type="number" id="jasa_design" name="jasa_design" class="mt-1 p-2 w-full border rounded-lg" value="5000">
    </div>
    <div>
      <label class="block text-sm font-medium" for="panjang_design">Panjang Design (Cm)</label>
      <input type="number" id="panjang_design" name="panjang_design" class="mt-1 p-2 w-full border rounded-lg" value="0">
    </div>
    <div>
      <label class="block text-sm font-medium" for="jumlah_kaos">Jumlah Kaos</label>
      <input type="number" id="jumlah_kaos" name="jumlah_kaos" class="mt-1 p-2 w-full border rounded-lg" value="1">
    </div>
    <div>
      <label class="block text-sm font-medium" for="margin">Margin (%)</label>
      <input type="number" id="margin" name="margin" class="mt-1 p-2 w-full border rounded-lg" value="25">
    </div>
    <div>
      <label class="block text-sm font-medium" for="diskon">Diskon (%)</label>
      <input type="number" id="diskon" name="diskon" class="mt-1 p-2 w-full border rounded-lg" value="0">
    </div>
<!--    <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600">Submit</button>-->

    <div class="mt-4 text-center font-semibold text-lg">
      HPP: Rp. <span id="hpp">0</span>
    </div>
    <div class="mt-2 text-center font-semibold text-lg">
      Harga Jual: Rp. <span id="harga_jual">0</span>
    </div>
  </form>
</div>

<script>
  function formatRupiah(angka) {
    return angka.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
  }
  function hitungTotal() {
    let hargaPrint = parseFloat(document.getElementById('harga_print').value) || 0;
    let hargaKaos = parseFloat(document.getElementById('harga_kaos').value) || 0;
    let jasaSablon = parseFloat(document.getElementById('jasa_sablon').value) || 2000;
    let jasaDesign = parseFloat(document.getElementById('jasa_design').value) || 5000;
    let panjangDesign = parseFloat(document.getElementById('panjang_design').value) || 0;
    let jumlahKaos = parseFloat(document.getElementById('jumlah_kaos').value) || 1;
    let margin = parseFloat(document.getElementById('margin').value) || 25;
    let diskon = parseFloat(document.getElementById('diskon').value) || 0;

    let hpp_tanpa_diskon = ((hargaPrint * (panjangDesign / 100)) + hargaKaos + jasaSablon + jasaDesign) * jumlahKaos;
    let hpp = hpp_tanpa_diskon - (hpp_tanpa_diskon * ( diskon / 100));
    let hargaJual = hpp / (100-margin)*100;

    document.getElementById('hpp').textContent = formatRupiah(hpp.toFixed(2));
    document.getElementById('harga_jual').textContent = formatRupiah(hargaJual.toFixed(2));
  }
</script>
</body>
</html>
